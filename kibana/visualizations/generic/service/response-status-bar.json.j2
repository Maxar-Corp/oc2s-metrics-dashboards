{% extends "visualizations/super/visualization.json.j2" %}
{% block source %} {
            "title": "{{ title }}",
            "visState": "{\"title\":\"{{ title }}\",\"type\":\"histogram\",\"params\":{\"shareYAxis\":true,\"addTooltip\":true,\"addLegend\":true,\"isDonut\":true,\"type\":\"histogram\",\"legendPosition\":\"right\",\"labels\":{\"show\":true,\"values\":true,\"last_level\":true,\"truncate\":100},\"grid\":{\"categoryLines\":false,\"style\":{\"color\":\"#eee\"}},\"categoryAxes\":[{\"id\":\"CategoryAxis-1\",\"type\":\"category\",\"position\":\"bottom\",\"show\":true,\"style\":{},\"scale\":{\"type\":\"linear\"},\"labels\":{\"show\":true,\"truncate\":100},\"title\":{}}],\"valueAxes\":[{\"id\":\"ValueAxis-1\",\"name\":\"LeftAxis-1\",\"type\":\"value\",\"position\":\"left\",\"show\":true,\"style\":{},\"scale\":{\"type\":\"linear\",\"mode\":\"normal\",\"setYExtents\":false,\"defaultYExtents\":false},\"labels\":{\"show\":true,\"rotate\":0,\"filter\":false,\"truncate\":100},\"title\":{\"text\":\"Count\"}}],\"seriesParams\":[{\"show\":\"true\",\"type\":\"histogram\",\"mode\":\"normal\",\"data\":{\"label\":\"Count\",\"id\":\"1\"},\"valueAxis\":\"ValueAxis-1\"}],\"times\":[],\"addTimeMarker\":false},\"aggs\":[{\"id\":\"1\",\"enabled\":true,\"type\":\"count\",\"schema\":\"metric\",\"params\":{}},{\"id\":\"2\",\"enabled\":true,\"type\":\"date_histogram\",\"schema\":\"segment\",\"params\":{\"field\":\"@timestamp\",\"interval\":\"auto\",\"customInterval\":\"2h\",\"min_doc_count\":1,\"extended_bounds\":{}}},{\"id\":\"3\",\"enabled\":true,\"type\":\"terms\",\"schema\":\"group\",\"params\":{\"field\":\"httpStatus\",\"otherBucket\":false,\"otherBucketLabel\":\"Other\",\"missingBucket\":false,\"missingBucketLabel\":\"Missing\",\"size\":5,\"order\":\"desc\",\"orderBy\":\"1\"}}]}",
            "uiStateJSON": "{\"vis\": {\"colors\": {\"200\": \"#9AC48A\",\"400\": \"#EA6460\"}}}",
            "description": "Bar chart of {{ vis.service }} HTTP response codes",
            "version": 1,
            "kibanaSavedObjectMeta": {"searchSourceJSON": "{\"index\": \"{{ index }}\",\"query\": {\"query\": \"\",\"language\": \"lucene\"},\"filter\": [{\"meta\": {\"index\": \"{{ index }}\",\"negate\": false,\"disabled\": false,\"alias\": null,\"type\": \"phrase\",\"key\": \"kubernetes.container.name\",\"value\": \"omar-{{ vis.service.lower() }}-app\",\"params\": {\"query\": \"omar-{{ vis.service.lower() }}-app\",\"type\": \"phrase\"}},\"query\": {\"match\": {\"kubernetes.container.name\": {\"query\": \"omar-{{ vis.service.lower() }}-app\",\"type\": \"phrase\"}}},\"$state\": {\"store\": \"appState\"}},{\"meta\": {\"index\": \"{{ index }}\",\"negate\": false,\"disabled\": false,\"alias\": null,\"type\": \"exists\",\"key\": \"{{ vis.http_status_key }}\",\"value\": \"exists\"},\"exists\": {\"field\": \"{{ vis.http_status_key }}\"},\"$state\": {\"store\": \"appState\"}}]}"
            }
        }
{% endblock %}