---
- name: Generate Kibana visualizations
  hosts: localhost
  roles:
    - visualize

  vars:
    index_pattern: omar-dev # Required
    kibana:

      - visualization: "Ingest MissionID Count"
        file: visualizations/ingest/Ingest-MissionID-Count.json

      - visualization: "Ingest MissionID Table"
        file: visualizations/ingest/Ingest-MissionID-Table.json

      - visualization: "Ingest Image Summary"
        file: visualizations/ingest/Ingest-Image-Summary.json

      - search: "Example Search"
        file: visualizations/ingest-logs-search.json
        columns:
          - Foo1
          - Foo2
          - Foo3

      - visualization: "Example Vis"
        file: visualizations/example-vis-with-search.json
        search: Example Search
        description: This is a test

      - dashboard: Example Dashboard
        file: visualizations/ingest-dashboard-test.json
        panels:
          - visualization: Ingest MissionID Count
          - visualization: Ingest MissionID Count
          - visualization: Ingest MissionID Count
          - visualization: Ingest MissionID Count
          - visualization: Ingest MissionID Count
          - visualization: Ingest MissionID Count
          - visualization: Ingest MissionID Count
          - search: Ingest MissionID Count